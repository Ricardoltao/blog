---
title: 位运算符
date: 2020-03-26 11:29:10
tags: 位运算符
categories: 计算机基础
---
# 位运算符

## 七种位运算符

| 位运算符 |    描述    |                      运算规则                      |
| :------: | :--------: | :------------------------------------------------: |
|    <<    |    左移    |    各二进制位全部左移若干位，高位丢弃，地位补0     |
|    >>    |    右移    | 各二进制位全部右移若干位，正数高位补0，负数高位补1 |
|   >>>    | 无符号右移 |          各二进制全部右移若干位，高位补0           |
|    &     |    位与    |              两个位都位1时，结果才为1              |
|    \|    |    位或    |              两个位都是0时，结果才为0              |
|    ~     |    位非    |                     0变1,1变0                      |
|    ^     |   位异或   |              两个位相同时为0，相异为1              |

其中位非（~）是一元运算符，其他都是二元运算符。

<!-- more -->

## 位与运算符（&）

**运算规则**：两个数都为二进制，然后从高位比较，如果两个数都为1则为1，否则为0。

*例如*：130&129

130        =>      10000010
129        =>      10000001
130&129   =>  10000000  => 128



## 左移（<<）

**运算规则**：各二进位全部左移若干位，高位丢弃，低位补0。

*例如*：6 << 2 = 24

```
0000 0000 0000 0000 0000 0000 0000 0110     -> 6
0000 0000 0000 0000 0000 0000 0001 1000     -> 6 << 2 = 24
```

我们将6的二进位向左移动两位，低位补上两个0，高位丢弃，得出来的结果就是24。 

左移常被用来做 `x * (2 ^ n)` 的运算，因为直接基于二进制运算，所以左移效率比 `x* (2 ^ n)` 高。



## 右移（>>）

**运算规则**：各二进位全部右移若干位，正数高位补0，负数高位补1，低位丢弃。

*例如*：12 >> 2 = 3

```
0000 0000 0000 0000 0000 0000 0000 1100     -> 12
0000 0000 0000 0000 0000 0000 0000 0011     -> 12 >> 2 = 3
复
```

因为12是正数，右移过程中高位补上两个0，低位丢弃，得出来的结果就是3。 例如：-12 >> 2 = -3

负数的二进制 = 正数二进制的反码 + 1

## 无符号右移（>>>）

**运算规则**：各二进位全部右移若干位，高位补0，低位丢弃。

其实无符合右移和右移的区别就是不用关心是正数还是负数，右移时高位都补0。

*例如*：-12 >>> 2 

```
1111 1111 1111 1111 1111 1111 1111 0100    -> -12
0011 1111 1111 1111 1111 1111 1111 1101    -> -12 >> 2 = 1073741821
```



> 参考:  [java位运算符](https://juejin.im/post/5df1a02ee51d4558181d2a5a#heading-5)

